
<br><br>
<div class="container container2">
<div class="main-body">

  
  <!-- /Breadcrumb -->

  <div class="row gutters-sm">
    <div class="col-md-4 mb-3">
      <div class="card mt-5">
        <div class="card-body mt-5">
          <div class="d-flex flex-column align-items-center text-center">
            <img src="images/avatar7.png"  alt="Admin" class="rounded-circle" width="150">
            <div class="mt-3">
              <h4>{{user.name}}</h4>
              <p class="text-secondary mb-1">{{user.email}}</p>
              {{!-- <button class="btn btn-primary">Change Photo</button><br><br> --}}
              <a href="/change-password" class="btn btn-primary">Change Password</a>
              <a href="/add-address" class="btn btn-outline-primary">Add Address</a><br>
              {{!-- <a href="" class="btn btn-primary mt-2" data-bs-toggle="modal" data-bs-target="#sectionD">My Wallet</a> --}}

<!-- Button trigger modal --><br>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
My Wallet
</button>

<!-- Modal -->
<div class="modal fade mt-5" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog mt-5">
<div class="modal-content mt-5">
<div class="modal-header">
<h5 class="modal-title" id="exampleModalLabel">Wallet</h5> 
  
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<div class="amount-box text-center ">
    <img style="height: 50px; width: 70px;"
        src="images/wallet.png"        
        alt="wallet">
    <p>Total Balance</p>
      <p class="amount pt-1 pb-1" style="font-size: x-large;">
        â‚¹ {{#if wallet}}
        {{wallet.amount}}
        {{else}}0
        {{/if}}
        </p>
        {{!-- {{#if userData.wallet}}
<div class="txn-history d-flex justify-content-center mt-5">
    <p><b class="pl-3">Hurray you earned
            {{userData.wallet}}</b></p>
    <p class="txn-list pl-3">You can use {{userData.wallet}}
        at Checkout</p>
</div>
{{/if}}  --}}
</div>
</div>
 <h6>Invite Your Friends to Us</h6><br>
 <p>{{referLink}}</p>
<div class="modal-footer"> 
<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
{{!-- <button type="button" class="btn btn-primary">Save changes</button> --}}
</div>
</div>
</div>
</div>
      </div>
          </div>
        </div>
      </div>
      
    </div>
    <div class="col-md-8">
      <div class="card mb-3">
          
        <div class="card-body">
          <form action="/edit-profile/{{user._id}}" method="post">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Full Name</h6>
            </div>
            
            <div class="col-sm-9 text-secondary">
              <input class="profile" type="text" id="name" name="name" value="{{user.name}}" disabled> 
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Email</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              <input class="profile" type="text" id="email" name="email" value="{{user.email}}" disabled> 
            </div>
          </div>
          <hr>
          
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Mobile</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              <input class="profile" type="tel" id="phone" value="{{user.phone}}" name="phone" disabled>
            </div>
          </div>
          <hr>
            
          <div class="row">
            <div class="col-sm-12">
              {{!-- <a class="btn btn-info " target="__blank" href="https://www.bootdey.com/snippets/view/profile-edit-data-and-skills">Edit</a> --}}
              <button class="btn btn-info" id="btn"  onclick="editprofile(); return false;">Edit</button>
                <button class="btn btn-info" type="submit" style="display: none;" id="update" >Save Changes</button>
            </div>
          </div>
          </form>
        </div>
      </div>
      
      <div class="row gutters-sm">
          {{#each address}}
        <div class="col-sm-6 mb-3">
          <div class="card h-100">
            <div class="card-body">
            
              <h6 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">Address</i></h6>
              <small>House Name:{{this.house}}</small>
              <div class="progress mb-3" style="height: 5px">
              </div>
              <small>Street:{{this.street}}</small>
              <div class="progress mb-3" style="height: 5px">
              </div>
              <small>City:{{this.city}}</small>
              <div class="progress mb-3" style="height: 5px">
              </div>
              <small>Pincode:{{this.pincode}}</small>
              <div class="progress mb-3" style="height: 5px">
              </div>
              <small>State:{{this.state}}</small>
              <div class="progress mb-3" style="height: 5px">
              </div>                    
            </div>
            {{!-- <a href="/delete-address/{{this._id}}" type="button" onclick="deleteAddress()" class="btn btn-secondary">Delete</a> --}}
            <button  class="btn btn-secondary" onclick="sweetalertclick1('/delete-address/{{this._id}}')">Delete</button>
          </div>
        </div>           
          {{/each}}
      </div>
    </div>
  </div>

</div>
</div>
<script>

function editprofile(){
document.getElementById("name").disabled = false;
document.getElementById("email").disabled = false;
document.getElementById("phone").disabled = false;
document.getElementById("btn").style.display= "none";
document.getElementById("update").style.display = "block";
}

function sweetalertclick1(value){
Swal.fire({
title: 'Are you sure?',
text: "You want to delete this item?",
icon: 'warning',
showCancelButton: true,
confirmButtonColor: '#3085d6',
cancelButtonColor: '#d33',
confirmButtonText: 'Yes, delete it!'
}).then((result) => {
if (result.isConfirmed) {    
window.location =  value    
}
})
}
</script>
